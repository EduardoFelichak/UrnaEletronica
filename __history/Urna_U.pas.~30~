unit Urna_U;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes,
  Vcl.Graphics, Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.ExtCtrls, Vcl.StdCtrls,
  dxGDIPlusClasses, Vcl.Buttons, Connection_U, Data.DB, FireDAC.Comp.Client,
  FireDAC.Stan.Param;

type
  TfrmUrna = class(TForm)
    pnlView: TPanel;
    pnlTeclado: TPanel;
    Label1: TLabel;
    imgJE: TImage;
    pnl1: TPanel;
    btn1: TSpeedButton;
    pnl2: TPanel;
    btn2: TSpeedButton;
    pnl3: TPanel;
    btn3: TSpeedButton;
    pnl4: TPanel;
    btn4: TSpeedButton;
    pnl5: TPanel;
    btn5: TSpeedButton;
    pnl6: TPanel;
    btn6: TSpeedButton;
    pnl7: TPanel;
    btn7: TSpeedButton;
    pnl8: TPanel;
    btn8: TSpeedButton;
    pnl9: TPanel;
    btn9: TSpeedButton;
    pnl0: TPanel;
    btn0: TSpeedButton;
    pnlBranco: TPanel;
    pnlCorrige: TPanel;
    pnlConfirma: TPanel;
    btnBranco: TSpeedButton;
    btnCorrige: TSpeedButton;
    btnConfirma: TSpeedButton;
    edtN1: TEdit;
    edtN2: TEdit;
    Label2: TLabel;
    Label3: TLabel;
    Label4: TLabel;
    lblNormalPt: TLabel;
    lblNome: TLabel;
    lblPartido: TLabel;
    pnlImg: TPanel;
    imgWillian: TImage;
    imgRicardo: TImage;
    imgVitor: TImage;
    imgEduardo: TImage;
    procedure btn1Click(Sender: TObject);
    procedure btn2Click(Sender: TObject);
    procedure btnCorrigeClick(Sender: TObject);
    procedure btn3Click(Sender: TObject);
    procedure btn4Click(Sender: TObject);
    procedure btn5Click(Sender: TObject);
    procedure btn6Click(Sender: TObject);
    procedure btn7Click(Sender: TObject);
    procedure btn8Click(Sender: TObject);
    procedure btn9Click(Sender: TObject);
    procedure btn0Click(Sender: TObject);
  private
    { Private declarations }
    FConnection: TMyConnection;
    FQuery: TFDQuery;
  public
    { Public declarations }
    constructor Create(AOwner: TComponent); override;
    destructor Destroy; override;
    procedure ValidarDados;
    procedure ZeraImg;
  end;

var
  frmUrna: TfrmUrna;

implementation

{$R *.dfm}

constructor TfrmUrna.Create(AOwner: TComponent);
begin
  inherited Create(AOwner);
  FConnection := TMyConnection.Create;
  FQuery := TFDQuery.Create(Self);
  FQuery.Connection := FConnection.Connection;
end;

destructor TfrmUrna.Destroy;
begin
  FQuery.Free;
  FConnection.Free;
  inherited Destroy;
end;

procedure TfrmUrna.btn0Click(Sender: TObject);
var
  n1: String;
  n2: String;
begin
  n1 := edtN1.Text;
  n2 := edtN2.Text;

  if n1.Length < 1 then
    edtN1.Text := '0'
  else
  begin
    edtN2.Text := '0';
    ValidarDados;
  end;
end;

procedure TfrmUrna.btn1Click(Sender: TObject);
var
  n1: String;
  n2: String;
begin
  n1 := edtN1.Text;
  n2 := edtN2.Text;

  if n1.Length < 1 then
    edtN1.Text := '1'
  else
  begin
    edtN2.Text := '1';
    ValidarDados;
  end;
end;

procedure TfrmUrna.btn2Click(Sender: TObject);
var
  n1: String;
  n2: String;
begin
  n1 := edtN1.Text;
  n2 := edtN2.Text;

  if n1.Length < 1 then
    edtN1.Text := '2'
  else
  begin
    edtN2.Text := '2';
    ValidarDados;
  end;
end;

procedure TfrmUrna.btn3Click(Sender: TObject);
var
  n1: String;
  n2: String;
begin
  n1 := edtN1.Text;
  n2 := edtN2.Text;

  if n1.Length < 1 then
    edtN1.Text := '3'
  else
  begin
    edtN2.Text := '3';
    ValidarDados;
  end;
end;

procedure TfrmUrna.btn4Click(Sender: TObject);
var
  n1: String;
  n2: String;
begin
  n1 := edtN1.Text;
  n2 := edtN2.Text;

  if n1.Length < 1 then
    edtN1.Text := '4'
  else
  begin
    edtN2.Text := '4';
    ValidarDados;
  end;
end;

procedure TfrmUrna.btn5Click(Sender: TObject);
var
  n1: String;
  n2: String;
begin
  n1 := edtN1.Text;
  n2 := edtN2.Text;

  if n1.Length < 1 then
    edtN1.Text := '5'
  else
  begin
    edtN2.Text := '5';
    ValidarDados;
  end;
end;

procedure TfrmUrna.btn6Click(Sender: TObject);
var
  n1: String;
  n2: String;
begin
  n1 := edtN1.Text;
  n2 := edtN2.Text;

  if n1.Length < 1 then
    edtN1.Text := '6'
  else
  begin
    edtN2.Text := '6';
    ValidarDados;
  end;
end;

procedure TfrmUrna.btn7Click(Sender: TObject);
var
  n1: String;
  n2: String;
begin
  n1 := edtN1.Text;
  n2 := edtN2.Text;

  if n1.Length < 1 then
    edtN1.Text := '7'
  else
  begin
    edtN2.Text := '7';
    ValidarDados;
  end;
end;

procedure TfrmUrna.btn8Click(Sender: TObject);
var
  n1: String;
  n2: String;
begin
  n1 := edtN1.Text;
  n2 := edtN2.Text;

  if n1.Length < 1 then
    edtN1.Text := '8'
  else
  begin
    edtN2.Text := '8';
    ValidarDados;
  end;
end;

procedure TfrmUrna.btn9Click(Sender: TObject);
var
  n1: String;
  n2: String;
begin
  n1 := edtN1.Text;
  n2 := edtN2.Text;

  if n1.Length < 1 then
    edtN1.Text := '9'
  else
  begin
    edtN2.Text := '9';
    ValidarDados;
  end;
end;

procedure TfrmUrna.btnCorrigeClick(Sender: TObject);
begin
  edtN1.Text         := '';
  edtN2.Text         := '';
  lblNome.Caption    := '';
  lblPartido.Caption := '';
  ZeraImg();
  pnlImg.Visible := false;
end;

procedure TfrmUrna.ValidarDados;
var
  num : String;
begin
  num := edtN1.Text + edtN2.Text;
  if nuM.ToInteger = 13 then
  begin
    lblNome.Caption := 'Willian Santin';
    lblPartido.Caption := 'Trainee do Ricardão';
    pnlImg.Visible := true;
    imgWillian.Visible := true;
  end
  else if num.ToInteger = 22 then
  begin
    lblNome.Caption := 'Ricardo Battistella';
    lblPartido.Caption := 'Rei Delas';
    pnlImg.Visible := true;
    imgRicardo.Visible := true;
  end
  else if num.ToInteger = 24 then
  begin
    lblNome.Caption := 'Vitor Albara';
    lblPartido.Caption := 'Trainee do Ricardão';
    pnlImg.Visible := true;
    imgVitor.Visible := true;
  end
  else if num.ToInteger = 03 then
  begin
    lblNome.Caption := 'Eduardo Felichak';
    lblPartido.Caption := 'Trainee do Ricardão';
    pnlImg.Visible := true;
    imgEduardo.Visible := true;
  end;
  end;

procedure TfrmUrna.ZeraImg;
begin
  imgWillian.Visible := false;
  imgRicardo.Visible := false;
  imgVitor.Visible   := false;
  imgEduardo.Visible := false;
end;

end.

